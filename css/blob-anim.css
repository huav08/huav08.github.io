/* Blob Background Animation: Heavenly Maiden Scattering Flowers (Gather & Scatter) */
.blob-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -100;
    /* Clean white/grey background to let colors pop */
    background: #f4f7f6; 
    overflow: hidden;
    pointer-events: none; /* Ensure clicks pass through */
}

/* Base Blob Style - Now with Fluid Morphing */
.blob {
    position: absolute;
    top: 50%;
    left: 50%;
    /* Start with an irregular blob shape */
    border-radius: 40% 60% 70% 30% / 40% 40% 60% 50%;
    mix-blend-mode: multiply; 
    filter: blur(40px);
    opacity: 0; 
    transform-origin: center center;
    will-change: transform, opacity, border-radius; 
}

@keyframes celestial-scatter {
    /* Stage 1: Far away (Scattered + Shape A) */
    0% {
        transform: translate3d(calc(-50% + var(--x-dest)), calc(-50% + var(--y-dest)), 0) scale(1.5) rotate(0deg);
        border-radius: 40% 60% 70% 30% / 40% 40% 60% 50%;
        opacity: 0;
    }
    
    /* Stage 2: Gathering Inward (Fading In + Morphing) */
    40% {
        opacity: 0.4;
    }

    /* Stage 3: The Convergence (Center + Shape B) */
    50% {
        transform: translate3d(-50%, -50%, 0) scale(0.6) rotate(180deg);
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
        opacity: 0.9;
    }

    /* Stage 4: Exploding Outward (Shape C) */
    60% {
        opacity: 0.6;
    }

    /* Stage 5: Far away again (Scattered + Shape D) */
    100% {
        transform: translate3d(calc(-50% + var(--x-dest)), calc(-50% + var(--y-dest)), 0) scale(2.2) rotate(360deg);
        border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
        opacity: 0;
    }
}

/* Mobile Optimization */
@media (max-width: 768px) {
    .blob {
        filter: blur(20px); /* Reduce blur radius for performance */
        mix-blend-mode: normal; /* Simpler blending */
    }
    
    /* Reduce number of particles on mobile if needed, or just make them smaller */
    .blob {
        width: 250px;
        height: 250px;
    }
}